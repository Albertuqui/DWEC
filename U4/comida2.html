<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
<script type="text/javascript">


  function añadirElemento(){
    var txt= document.getElementsByTagName("input")[0];
    var seleccion = document.getElementById("selector");

    if(txt.value != ""  && seleccion.value !=0){

      if(document.getElementById(selector.value)){
        var miP = document.createElement("p");
          miP.innerHTML = txt.value;
          var div = document.getElementById(selector.value);
          div.appendChild(miP);
        var color = seleccion.value;
        miP.style.color= color;
        miP.setAttribute("onclick","borrarElemento()");
        div.style.border = "thin solid " + selector.value;
    }
    else{
      var miP = document.createElement("p");
        miP.innerHTML = txt.value;
      var div = document.createElement("div");
      div.setAttribute("id",selector.value);
        document.body.appendChild(div);
          div.appendChild(miP);
      var color = seleccion.value;
      miP.style.color= color;
      miP.setAttribute("onclick","borrarElemento()");
        div.style.border = "thin solid " + selector.value;
    }
  }else{
    alert("Te has olvidado de poner nombre o categoría");
    }

      }


      function borrarElemento(){
        var padre = document.querySelector("p:hover");
      padre.parentNode.removeChild(padre);
        var p = document.getElementsByTagName("P");
        if(p.length==0){
          document.getElementById(selector.value).style.border="none";
        }
      }




      function borrarLista(){
      var div = document.getElementsByTagName("DIV");
        var limite= div.length;
        for (var i = 0; i < limite  ; i++) {
          div[0].parentNode.removeChild(div[0]);
}
              }


    </script>
  </head>
  <body>
    <h1>Lista de la compra</h1>
    <input type="text" name="texto"></input>
    <select class="selector" id="selector">
      <option value=0 >Escoge una opción</option>
      <option value="red" >Carnicería</option>
      <option value="navy" >Pescadería</option>
      <option value="cyan" >Congelados</option>
      <option value="gold">Panadería</option>
      <option value="magenta">Perfumería</option>
    </select>
    <button onclick="añadirElemento()">Añadir elemento</button>
    <button onclick="borrarLista()">Borrar lista</button>
    <hr>
  </body>
</html>
